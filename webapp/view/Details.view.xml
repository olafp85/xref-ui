<mvc:View
    controllerName="xref.controller.Details"
    xmlns:layout="sap.suite.ui.commons.networkgraph.layout"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:m="sap.m"
    xmlns="sap.suite.ui.commons.networkgraph"
    busyIndicatorDelay="0"
>
    <m:HBox
        fitContainer="true"
        renderType="Bare"
    >
        <Graph
            id="graph"
            nodes="{xref>/units}"
            lines="{xref>/calls}"
            groups="{xref>/groups}"
        >
            <layoutData>
                <m:FlexItemData
                    growFactor="1"
                    shrinkFactor="1"
                    minWidth="300px"
                />
            </layoutData>

            <nodes>
                <Node
                    key="{xref>id}"
                    title="{
                            path: 'xref>id',
                            formatter: '.nodeName'
                    }"
                    group="{
                            path: 'xref>id',
                            formatter: '.nodeGroup'
                    }"
                    titleLineSize="0"
                    width="auto"
                    maxWidth="250"
                    shape="Circle"
                />
            </nodes>
            <lines>
                <Line
                    from="{xref>source}"
                    to="{xref>target}"
                />
            </lines>
            <groups>
                <Group
                    key="{xref>id}"
                    title="{xref>name}"
                    status="{xref>status}"
                >
                    <attributes>
                        <ElementAttribute
                            label="Package"
                            value="{xref>devclass}"
                        />
                    </attributes>
                </Group>
            </groups>
            <statuses>
                <Status
                    key="CustomSap"
                    title="SAP"
                    backgroundColor="lightgray"
                />
            </statuses>
            <dependents>
                <m:OverflowToolbarButton
                    id="collapseAllButton"
                    icon="sap-icon://collapse-all"
                    text="{i18n>collapseAllGroups}"
                    type="Transparent"
                    press="onCollapseAllGroups"
                />
                <m:OverflowToolbarButton
                    id="expandAllButton"
                    icon="sap-icon://expand-all"
                    text="{i18n>expandAllGroups}"
                    type="Transparent"
                    press="onExpandAllGroups"
                />
            </dependents>
        </Graph>
        <GraphMap
            id="map"
            graph="graph"
            class="sapUiHideOnPhone"
        >
            <layoutData>
                <m:FlexItemData
                    minWidth="200px"
                    maxWidth="25%"
                />
            </layoutData>
        </GraphMap>
    </m:HBox>
</mvc:View>
